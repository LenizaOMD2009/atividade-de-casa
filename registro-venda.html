<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Registro de Venda</title>
        <style>
        .titulo-menu {
         color: rgb(10, 150, 106);
        }
        </style>
</head>
<body>
  <header>
    <h1 class="titulo-menu">Registro de Venda</h1>
  </header>

  <main>
    <form id="formVenda">
      <section>
        <label for="valorLiquido">Valor Total Líquido:</label>
        <input type="number" id="valorLiquido" name="valorLiquido" step="0.01"><br>

        <label for="valorBruto">Valor Total Bruto:</label>
        <input type="number" id="valorBruto" name="valorBruto" step="0.01"><br>

        <label for="desconto">Desconto:</label>
        <input type="number" id="desconto" name="desconto" step="0.01"><br>

        <label for="juros">Juros:</label>
        <input type="number" id="juros" name="juros" step="0.01"><br>

        <label for="observacao">Observação:</label><br>
        <textarea id="observacao" name="observacao" rows="4" cols="50"></textarea><br>

        <label for="produtoSelecionado">Produto:</label>
        <select id="produtoSelecionado" name="produtoSelecionado">
          <option value="">-- Selecione um produto --</option>
          <option value="produto1">Produto 1</option>
          <option value="produto2">Produto 2</option>
          <option value="produto3">Produto 3</option>
        </select><br>
      </section>

      <p><strong>Último salvamento:</strong> <span id="ultimaHora">Nenhum ainda</span></p>

      <button type="submit">Salvar</button>
    </form>

    <br>
    <a href="atividadedeht.html">← Voltar ao menu</a>
  </main>

  <footer>
    <p>© 2025 - Sistema de Registro</p>
  </footer>

  <!-- Script de salvamento automático e hora -->
  <script>
    const form = document.getElementById("formVenda");
    const campos = [
      "valorLiquido",
      "valorBruto",
      "desconto",
      "juros",
      "observacao",
      "produtoSelecionado"
    ];
    const horaSpan = document.getElementById("ultimaHora");

    // Carregar dados anteriores
    campos.forEach(id => {
      const valor = localStorage.getItem(id);
      if (valor !== null) {
        document.getElementById(id).value = valor;
      }
    });

    // Atualizar hora
    const atualizarHora = () => {
      const agora = new Date();
      horaSpan.textContent = agora.toLocaleString("pt-BR");
    };

    // Salvamento automático
    form.addEventListener("input", (e) => {
      if (campos.includes(e.target.id)) {
        localStorage.setItem(e.target.id, e.target.value);
        atualizarHora();
      }
    });

    atualizarHora(); // Hora inicial
  </script>
</body>
</html>

